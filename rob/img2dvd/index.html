<!doctype html public "-//w3c//dtd html 4.0 transitional//en">
<html>
<head>
   <meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
   <meta name="Author" content="Rob Miller">
   <title>img2dvd home page</title>
</head>
<body>

<hr>
<center><b><font size=+2>img2dvd.pl </font></b></center>
<center>rob miller -- rob at janerob dot com </center>
<br>

this is another quick perl script to do a common task with my canon
30d image files.  for regular work and access I like to have the
images in year-month-day named directories, which at the very least
comes out nicely on most listings.  at the same time I want backups on
dvd, and it is a tedious instance of the knapsack problem fitting the
date-based dir sets together to reasonably fill a 4-ish gb disk.
<p>
so this code does it twice:
<ul>
<li>
mount the cf card, e.g. /mnt/sdc1
</li>
<li>
cd to my main photo work dir, photos/rob
</li>
<li>
<i>img2dvd.pl /mnt/sdc1</i>
</li>
</ul>
<p>
this creates in photos/rob a subdir named e.g. 2007-2-14 (or
2007-2-14_1 etc. as needed for each download of a cf card), plus
creates /data2/photos-dvd/d1 ... d<i>n</i> as needed eanch containing
just img files up to 4.3*1024*1024*1024 bytes, which is what I've
found can fit on a dvd.
<p>
as it runs it also reports the size of the dvd dirs:
<p>
<pre>
targ subdir  d1 : 4613742592 bytes  img_8195.jpg 2006:10:29 18:04:57 .. img_9691.jpg 2006:12:27 20:02:48
targ subdir  d2 : 2202263552 bytes  img_0001.jpg 2007:01:14 03:40:52 .. img_9999.jpg 2007:01:14 02:38:16
</pre>
<p>
so you can see how many dvds will be needed and the file number and
date ranges to label each dvd with.
<p>
clearly I've just wrapped around 10,000 photos so the file number
range on the second entry isn't accurate, but I can probably handle
that occasionally!
<p>
no doubt you'll need to modify this for your own use, in particular
the location of the for-dvd storage directories and possibly the
regular expresion to match the image file names depending on your
camera model and its file naming scheme.  these variables should be
easy to find and modify at the top of the perl file.  I've only just
started dabbling with raw files, this is currently for jpegs.
<p>
update 03 Mar 2007: ok, now it will also place raw .cr2 files in the
backup dir (just change the regex at the top of the file).  having
played with ufraw a bit, I'm sold. 
<p>
run with no arguments for some usage instructions.  requires
Image::ExifTool 
<p>
I hope you find img2dvd useful.
<p>
download: <a href="img2dvd.pl">img2dvd.pl</a>
<p>

<br>
<br>
3 March 2007
<hr>
<div id="adsense1">
<center><p>
<script type="text/javascript"><!--
google_ad_client = "pub-1801987312954275";
google_ad_width = 728;
google_ad_height = 90;
google_ad_format = "728x90_as";
google_ad_type = "text_image";
google_ad_channel ="";
//--></script>
<script type="text/javascript"
  src="http://pagead2.googlesyndication.com/pagead/show_ads.js">
</script>
</p></center>
</div>



</body>
</html>
